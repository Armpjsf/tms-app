{
  "meta": {
    "project": "Vehicle Routing and Planning System",
    "date": "2026-02-10",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "This Vehicle Routing and Planning System enables comprehensive management of drivers, vehicles, jobs and routing logistics powered by a robust dashboard and real-time GPS tracking. It supports mobile PWA for drivers and bulk data import via Excel files, using a highly scalable Next.js and Supabase stack.",
  "core_goals": [
    "Enable seamless management of fleet, drivers, and job planning.",
    "Provide real-time GPS tracking and routing visualization on maps.",
    "Support bulk import and update of data via Excel spreadsheets.",
    "Offer a Progressive Web App for drivers to access jobs and update delivery status.",
    "Implement authentication and role-based access control for secure access.",
    "Optimize route planning with configurable parameters based on vehicle types, job types and operational constraints."
  ],
  "key_features": [
    "Authentication and session management with Supabase Auth.",
    "Dashboard summarizing daily tasks, vehicle status, and job statistics.",
    "Driver Management with profile CRUD and bulk Excel import.",
    "Vehicle Management with status tracking, maintenance alerts and bulk import.",
    "Routing Planning with VRP, job creation, planning, routing, and history view.",
    "Real-time GPS tracking and visualization using Leaflet maps.",
    "Mobile PWA for drivers including job status updates, POD upload and digital signatures.",
    "Reusable component for Excel file importing used across multiple features.",
    "Detailed VRP configuration settings for vehicle types, job types, time windows and route preferences."
  ],
  "user_flow_summary": [
    "User logs in via authentication page using Supabase Auth.",
    "User views dashboard overview of jobs, vehicles and tasks.",
    "Admins manage driver profiles, vehicle fleet and group details with CRUD operations.",
    "Users create or import jobs, assign drivers and plan routes using VRP settings.",
    "System calculates optimized routes and displays on interactive map.",
    "Drivers access assigned jobs through Mobile PWA, update statuses, upload proof of delivery and sign digitally.",
    "Admins monitor vehicle locations in real time via GPS tracking map.",
    "Admins review job assignments and adjust routes/orders as needed, recalculating optimization.",
    "Users filter and search orders for management and reporting.",
    "Users manage shipment assignment via tap menu to assign orders to vehicles and monitor shipment statuses."
  ],
  "validation_criteria": [
    "All core features including authentication, driver and vehicle management, job planning, routing and GPS tracking must be implemented.",
    "The system must support bulk import of drivers, vehicles and jobs through Excel files without data corruption.",
    "Mobile PWA should enable offline job access, status updates and media uploads with smooth sync.",
    "The map must display real-time vehicle locations accurately using Leaflet and update frequently.",
    "User role restrictions must prevent unauthorized access and actions as per RBAC policies.",
    "VRP routing settings must reflect in optimized job allocations and route calculations.",
    "The UI must be responsive and accessible, passing keyboard navigation and screen reader tests.",
    "Job and shipment status flows should update correctly and trigger related notifications and actions.",
    "API endpoints and frontend interactions must be tested with success criteria for all defined edge cases and invalid input scenarios."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js",
      "Supabase",
      "Tailwind CSS",
      "Radix UI",
      "Lucide React",
      "Leaflet",
      "XLSX"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User login and session management using Supabase Auth.",
        "files": [
          "src/app/login/page.tsx",
          "src/app/login/actions.ts",
          "src/utils/supabase/middleware.ts"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Overview of daily tasks, vehicle status, and job statistics.",
        "files": [
          "src/app/dashboard/page.tsx",
          "src/components/layout/dashboard-layout.tsx"
        ]
      },
      {
        "name": "Drivers Management",
        "description": "Manage driver profiles, including creation, updating, deletion, and bulk import from Excel.",
        "files": [
          "src/app/drivers/page.tsx",
          "src/app/drivers/actions.ts",
          "src/components/drivers/drivers-content.tsx",
          "src/components/drivers/driver-dialog.tsx",
          "src/components/ui/excel-import.tsx"
        ]
      },
      {
        "name": "Vehicles Management",
        "description": "Manage vehicle fleet, tracking status, maintenance alerts, and bulk import.",
        "files": [
          "src/app/vehicles/page.tsx",
          "src/app/vehicles/actions.ts",
          "src/components/vehicles/vehicle-dialog.tsx",
          "src/components/ui/excel-import.tsx"
        ]
      },
      {
        "name": "Planning & Jobs",
        "description": "Job creation, planning, routing, and history view. Includes bulk import capabilities.",
        "files": [
          "src/app/planning/page.tsx",
          "src/app/planning/actions.ts",
          "src/components/planning/job-dialog.tsx",
          "src/components/ui/excel-import.tsx"
        ]
      },
      {
        "name": "GPS Tracking",
        "description": "Real-time visualization of vehicle locations on a map using Leaflet.",
        "files": [
          "src/app/admin/map/page.tsx",
          "src/components/map/MapComponent.tsx"
        ]
      },
      {
        "name": "Mobile PWA",
        "description": "Progressive Web App for drivers to view jobs, update status, upload POD, and sign.",
        "files": [
          "src/app/mobile/dashboard/page.tsx",
          "src/app/mobile/jobs/[id]/page.tsx",
          "src/components/mobile/signature-pad.tsx",
          "src/components/mobile/camera-input.tsx"
        ]
      },
      {
        "name": "Excel Import",
        "description": "Reusable component for importing data from Excel files.",
        "files": [
          "src/components/ui/excel-import.tsx"
        ]
      }
    ]
  }
}
