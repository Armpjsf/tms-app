[
  {
    "projectId": "0224da8c-a1d9-48c8-8b8f-913cab2a5772",
    "testId": "7cddb7d3-56f6-42a9-b684-438d35868243",
    "userId": "f4786438-60d1-7030-46d1-b1ac9b0e3b51",
    "title": "TC001-Update first name, last name, and email successfully from Profile Settings",
    "description": "Verifies an authenticated user can save valid profile changes and sees a success confirmation with updated values persisting on the profile page.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the login page (navigate to /login) by clicking a navigation/button element on the current page (avoid direct URL navigation).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/header/div[2]/button[1]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the user menu to find navigation to Settings/Profile by clicking the user/menu button (index=1926).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/header/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ตั้งค่า' (Settings) navigation link to open settings (use element index 2502).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/aside/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'แก้ไขโปรไฟล์' (Edit Profile) button to open the profile editing page (/settings/profile).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the profile edit form (reveal First Name, Last Name, Email input fields and the Save Changes button) so fields can be updated and saved.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill First Name, Last Name, Email with test values and click 'บันทึกการเปลี่ยนแปลง' (Save Changes). Then verify success message and that updated values persist on the profile page.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[2]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('TestFirst')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('TestLast')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[3]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('test.user.updated@example.com')\n        \n        # -> Click the 'บันทึกการเปลี่ยนแปลง' (Save Changes) button to submit the profile update and then verify the success confirmation and that the updated values persist on the profile page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[6]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=สำเร็จ').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Expected profile update success confirmation ('สำเร็จ') after saving changes; the test was verifying that an authenticated user could save First Name, Last Name, and Email and see the success message and updated values persist on the profile page, but the confirmation did not appear\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test result summary:\n- Objective: Verify an authenticated user can save valid profile changes and sees a success confirmation with updated values persisting on the profile page.\n- Actions performed: Opened settings -> Opened profile edit form -> Updated First Name to 'TestFirst' -> Updated Last Name to 'TestLast' -> Updated Email to 'test.user.updated@example.com' -> Clicked 'บันทึกการเปลี่ยนแปลง' (Save Changes).\n- Observations:\n  - The profile form input values currently show: First Name = 'TestFirst', Last Name = 'TestLast', Email = 'test.user.updated@example.com' (persistence confirmed in the form fields).\n  - The text/button 'บันทึกการเปลี่ยนแปลง' (Save Changes) is present.\n  - No explicit success confirmation text such as 'สำเร็จ' was found in the current DOM/snapshot. No toast or confirmation element was detected.\n- Conclusion: Partial success. The updated values persist on the profile page after clicking Save, but the required visible success confirmation message was not observed. Because the test expectation includes both persistence and a visible success confirmation, mark overall test as failed.\n- Recommendation: Check for asynchronous toasts or transient messages that may have disappeared before the snapshot was captured; add a short wait after clicking Save and re-check for confirmation, or check server response/logs for save confirmation. Also consider making the success confirmation persist longer or include an accessible status element for reliable automation checks.\n\nDeliverable: Final status = FAILED (success=false). See observations above for details.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4786438-60d1-7030-46d1-b1ac9b0e3b51/1771209303525289//tmp/test_task/result.webm",
    "created": "2026-02-16T02:31:58.434Z",
    "modified": "2026-02-16T02:35:03.640Z"
  },
  {
    "projectId": "0224da8c-a1d9-48c8-8b8f-913cab2a5772",
    "testId": "23d33d8d-f03e-4fb8-abd7-6cc267afb555",
    "userId": "f4786438-60d1-7030-46d1-b1ac9b0e3b51",
    "title": "TC002-Client-side validation blocks save when email format is invalid",
    "description": "Verifies entering an invalid email shows a validation error and the user remains on the profile page without a success confirmation.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to the /login page to start the login step.\n        await page.goto(\"http://localhost:3000/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the username and password fields with provided credentials and click the login button to sign in (use indices 402, 403, then click 405).\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/div[1]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123456')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'เข้าสู่ระบบ' (Login) button again to attempt to sign in and navigate to the dashboard.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'ตั้งค่า' (Settings) link in the left navigation to open the Settings section (use element index 821).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/aside/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the user menu to access the Profile option (click the user button) and then select Profile to reach /settings/profile.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/header/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'แก้ไขโปรไฟล์' (Edit Profile) button to open the profile edit form (navigate to /settings/profile).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'แก้ไขโปรไฟล์' (Edit Profile) button to open the profile edit form and navigate to /settings/profile so the profile inputs become available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Type 'BadEmailFirst' into First Name (index 17045) then fill Last Name and Email with invalid value and click Save to validate error handling.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[2]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('BadEmailFirst')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('BadEmailLast')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[3]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('not-an-email')\n        \n        # -> Click the 'บันทึกการเปลี่ยนแปลง' (Save Changes) button (index 17066), then extract page content to verify the presence of the text 'Email' and the validation message 'invalid', and confirm the URL still contains '/settings/profile'.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[6]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=invalid').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: expected to see an email validation error ('invalid') on the profile page and remain on /settings/profile, but the validation message did not appear — the invalid email may have been accepted or the error message is missing.\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test result summary:\n- Email label visible: true (matched string: \"อีเมล (ติดต่อ)\")\n- Validation message containing 'invalid' visible: false (no matching string found; surrounding text: none)\n- Current URL: http://localhost:3000/settings/profile (URL contains '/settings/profile')\n- Success confirmation visible after save: none found\nConclusion: The application did not display a validation message indicating the email is invalid after submitting 'not-an-email'. The user remains on the profile page (URL still contains '/settings/profile') and no success confirmation appeared. Because the expected validation error was not shown, the verification of proper client-side/server-side validation for an invalid email failed.\nSuggested next steps: check server-side validation logs or client-side validation code; verify if validation messages are displayed in a different language or location (e.g., a toast or inline message) and search for localized keywords. Report: validation message missing; test failed.",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "High",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4786438-60d1-7030-46d1-b1ac9b0e3b51/1771209368993022//tmp/test_task/result.webm",
    "created": "2026-02-16T02:31:58.440Z",
    "modified": "2026-02-16T02:36:09.134Z"
  },
  {
    "projectId": "0224da8c-a1d9-48c8-8b8f-913cab2a5772",
    "testId": "3b3eaec4-2f1e-47c2-b91f-8b4413f6a9a2",
    "userId": "f4786438-60d1-7030-46d1-b1ac9b0e3b51",
    "title": "TC003-Save with unchanged values does not break and remains on profile page",
    "description": "Verifies clicking Save Changes without modifying fields does not cause navigation issues and provides a stable user outcome (success or no-op messaging).",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to the login page (/login) to begin the login flow.\n        await page.goto(\"http://localhost:3000/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email and password fields with admin / 123456 and click the 'เข้าสู่ระบบ' (Login) button.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/div[1]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123456')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the login ('เข้าสู่ระบบ') button again and wait for navigation to /dashboard; if redirected, locate and click Settings to open Profile settings.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click 'ตั้งค่า' (Settings) in the left navigation to open the settings page (use element index 773).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/aside/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the user menu to locate and open Profile/Profile Settings. Immediate action: click the user menu button (index 803).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/header/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'แก้ไขโปรไฟล์' (Edit Profile) button to open the profile settings page (expect URL to become /settings/profile).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'แก้ไขโปรไฟล์' (Edit Profile) button (index 2042) to open the profile settings (/settings/profile) and wait for the page to load; then proceed to click 'บันทึกการเปลี่ยนแปลง' without changing fields.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'บันทึกการเปลี่ยนแปลง' (Save Changes) button (index 8864) to save without making changes and observe whether the page navigates away or remains on /settings/profile.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[6]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4786438-60d1-7030-46d1-b1ac9b0e3b51/1771209321878053//tmp/test_task/result.webm",
    "created": "2026-02-16T02:31:58.446Z",
    "modified": "2026-02-16T02:35:22.012Z"
  },
  {
    "projectId": "0224da8c-a1d9-48c8-8b8f-913cab2a5772",
    "testId": "248b47e7-096c-4076-a845-9a164e26b2ac",
    "userId": "f4786438-60d1-7030-46d1-b1ac9b0e3b51",
    "title": "TC004-Email validation triggers on save when email is empty",
    "description": "Verifies that clearing the email field and attempting to save shows a visible validation error and prevents a successful save.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to the login page (/login) so the login form can be used.\n        await page.goto(\"http://localhost:3000/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Fill the email field with 'admin', fill the password with '123456', and click the login button to submit.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/div[1]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123456')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'เข้าสู่ระบบ' (login) button to submit credentials and trigger navigation to the dashboard.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Attempt to reach the dashboard page by navigating directly to /dashboard (fallback since login did not succeed)\n        await page.goto(\"http://localhost:3000/dashboard\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Open the user menu / navigation to access Settings/Profile by clicking the appropriate top-right menu button.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/header/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the Settings page by clicking the 'ตั้งค่า' (Settings) link in the left sidebar so the Profile/Settings options become available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/aside/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Navigate to the Profile settings page (expected URL: /settings/profile) so the Email field can be cleared and Save attempted.\n        await page.goto(\"http://localhost:3000/settings/profile\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Clear the Email field, click 'บันทึกการเปลี่ยนแปลง' (Save Changes), then check the page for visible text 'Email' and 'required' to confirm validation and ensure URL remains '/settings/profile'.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[3]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[6]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        try:\n            await expect(frame.locator('text=required').first).to_be_visible(timeout=3000)\n        except AssertionError:\n            raise AssertionError(\"Test case failed: Expected a visible 'required' validation message after clearing the Email field and clicking 'บันทึกการเปลี่ยนแปลง' (Save Changes) on the Profile settings page to prevent saving, but the 'required' message was not displayed.\")\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "FAILED",
    "testError": "Test result: FAILED to observe the expected client-side validation when clearing the Email field and clicking Save.\n\nWhat was performed: cleared the Email field (1 attempt) and clicked 'บันทึกการเปลี่ยนแปลง' (Save) (1 attempt).\n\nObserved behavior (objective):\n- Email input still shows value 'pongamon08@gmail.com' in the page DOM after the clear attempt (input [3985] value present). Clearing did not persist.\n- Visible validation text 'Email' not found on the page after save attempt (search attempted once). Visible text 'required' was not searched or found.\n- Current page URL remains '/settings/profile'.\n\nConclusion: Validation messages preventing a save when Email is empty were not observed. The save action did not display the expected 'Email' / 'required' validation UI. Possible causes: (a) the clear action did not actually remove the email value, (b) the form may re-populate the email before validation, or (c) client-side validation is absent/handled differently. No evidence found that a save was blocked by visible validation.\n\nRecommended next steps if further investigation is desired: ensure the Email input is actually emptied (verify input value after clearing), retry save, check for inline validation near the field, inspect browser console/network for errors, or test with manual reproduction to confirm whether backend accepted changes.\n\nFinal status: success=false",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Medium",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4786438-60d1-7030-46d1-b1ac9b0e3b51/1771209351329949//tmp/test_task/result.webm",
    "created": "2026-02-16T02:31:58.452Z",
    "modified": "2026-02-16T02:35:51.459Z"
  },
  {
    "projectId": "0224da8c-a1d9-48c8-8b8f-913cab2a5772",
    "testId": "56f1d333-b747-4f88-8734-ebace00839ed",
    "userId": "f4786438-60d1-7030-46d1-b1ac9b0e3b51",
    "title": "TC005-First name and last name accept non-Latin characters and save successfully",
    "description": "Verifies profile fields support Thai/non-Latin characters and the saved values are visible after saving.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Navigate to the login page (/login) so the test can proceed with entering credentials.\n        await page.goto(\"http://localhost:3000/login\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Type username 'admin' into the Username/Email field, type password '123456' into the Password field, then click the 'เข้าสู่ระบบ' (Login) button.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/div[1]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('admin')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/div[2]/div/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('123456')\n        \n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Attempt login again by clicking the 'เข้าสู่ระบบ' button to trigger navigation to /dashboard.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/div[3]/form/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the user/profile menu so the Profile option can be selected (click the header user button).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/header/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click 'ตั้งค่า' (Settings) in the left navigation to open the settings area so the Profile option can be selected.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/aside/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the user menu (if closed) to reveal the 'Profile' option, then click 'Profile' to open the profile settings page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/header/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the profile edit page by clicking the 'แก้ไขโปรไฟล์' (Edit Profile) button.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the profile edit page (account profile) so input fields for First name, Last name, and Email become available.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[3]/div[1]/div/div[2]/div[1]/div').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Fill First name with 'ทดสอบชื่อ', Last name with 'ทดสอบนามสกุล', Email with 'thai.name@example.com', then click 'บันทึกการเปลี่ยนแปลง' (Save). After saving, verify success message and the saved Thai values are visible.\n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[2]/div[1]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ทดสอบชื่อ')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[2]/div[2]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('ทดสอบนามสกุล')\n        \n        frame = context.pages[-1]\n        # Input text\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[3]/input').nth(0)\n        await page.wait_for_timeout(3000); await elem.fill('thai.name@example.com')\n        \n        # -> Click the 'บันทึกการเปลี่ยนแปลง' (Save) button (index 21439) to persist the changes, then verify the success message and that the saved Thai values are visible.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div[6]/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Low",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4786438-60d1-7030-46d1-b1ac9b0e3b51/177120935634739//tmp/test_task/result.webm",
    "created": "2026-02-16T02:31:58.458Z",
    "modified": "2026-02-16T02:35:56.450Z"
  },
  {
    "projectId": "0224da8c-a1d9-48c8-8b8f-913cab2a5772",
    "testId": "10e57cfc-2a4a-44f1-9929-bc86c1e6cb29",
    "userId": "f4786438-60d1-7030-46d1-b1ac9b0e3b51",
    "title": "TC006-Profile page is reachable from Settings and shows expected sections",
    "description": "Verifies navigation to the profile settings page and presence of core profile management UI elements.",
    "code": "import asyncio\nfrom playwright import async_api\n\nasync def run_test():\n    pw = None\n    browser = None\n    context = None\n\n    try:\n        # Start a Playwright session in asynchronous mode\n        pw = await async_api.async_playwright().start()\n\n        # Launch a Chromium browser in headless mode with custom arguments\n        browser = await pw.chromium.launch(\n            headless=True,\n            args=[\n                \"--window-size=1280,720\",         # Set the browser window size\n                \"--disable-dev-shm-usage\",        # Avoid using /dev/shm which can cause issues in containers\n                \"--ipc=host\",                     # Use host-level IPC for better stability\n                \"--single-process\"                # Run the browser in a single process mode\n            ],\n        )\n\n        # Create a new browser context (like an incognito window)\n        context = await browser.new_context()\n        context.set_default_timeout(5000)\n\n        # Open a new page in the browser context\n        page = await context.new_page()\n\n        # Navigate to your target URL and wait until the network request is committed\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n\n        # Wait for the main page to reach DOMContentLoaded state (optional for stability)\n        try:\n            await page.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n        except async_api.Error:\n            pass\n\n        # Iterate through all iframes and wait for them to load as well\n        for frame in page.frames:\n            try:\n                await frame.wait_for_load_state(\"domcontentloaded\", timeout=3000)\n            except async_api.Error:\n                pass\n\n        # Interact with the page elements to simulate user flow\n        # -> Navigate to http://localhost:3000\n        await page.goto(\"http://localhost:3000\", wait_until=\"commit\", timeout=10000)\n        \n        # -> Click the 'ตั้งค่า' (Settings) link in the left navigation (element index 985) to open the Settings page.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/aside/div[2]/a').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Open the user/admin menu to find a Profile or Settings link (click element index 1014).\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/header/div[2]/button[3]').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'แก้ไขโปรไฟล์' (Edit Profile) button to open the profile settings page and then verify profile fields.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # -> Click the 'แก้ไขโปรไฟล์' (Edit Profile) button again to open the profile settings page, then verify URL contains '/settings/profile' and the presence of 'First Name', 'Last Name', 'Email', and the 'บันทึกการเปลี่ยนแปลง' button.\n        frame = context.pages[-1]\n        # Click element\n        elem = frame.locator('xpath=html/body/div[2]/main/div/div[2]/div/div/div/button').nth(0)\n        await page.wait_for_timeout(3000); await elem.click(timeout=5000)\n        \n        # --> Assertions to verify final state\n        frame = context.pages[-1]\n        frame = context.pages[-1]\n        await page.wait_for_timeout(1000)\n        \n        # Verify URL fragments from the test plan\n        assert \"/dashboard\" in page.url, f\"Expected '/dashboard' in URL, got: {page.url}\"\n        assert \"/settings\" in page.url, f\"Expected '/settings' in URL, got: {page.url}\"\n        assert \"/settings/profile\" in page.url, f\"Expected '/settings/profile' in URL, got: {page.url}\"\n        \n        # Wait for and assert presence of profile fields (Thai labels used in the UI)\n        await frame.wait_for_selector(\"text=ชื่อจริง\", timeout=5000)\n        await frame.wait_for_selector(\"text=นามสกุล\", timeout=5000)\n        await frame.wait_for_selector(\"text=อีเมล\", timeout=5000)\n        await frame.wait_for_selector(\"text=บันทึกการเปลี่ยนแปลง\", timeout=5000)\n        \n        assert await frame.locator(\"text=ชื่อจริง\").is_visible(), \"ชื่อจริง (First Name) not visible\"\n        assert await frame.locator(\"text=นามสกุล\").is_visible(), \"นามสกุล (Last Name) not visible\"\n        assert await frame.locator(\"text=อีเมล\").is_visible(), \"อีเมล (Email) not visible\"\n        assert await frame.locator(\"text=บันทึกการเปลี่ยนแปลง\").is_visible(), \"'บันทึกการเปลี่ยนแปลง' (Save Changes) button not visible\"\n        await asyncio.sleep(5)\n\n    finally:\n        if context:\n            await context.close()\n        if browser:\n            await browser.close()\n        if pw:\n            await pw.stop()\n\nasyncio.run(run_test())\n    ",
    "testStatus": "PASSED",
    "testError": "",
    "testType": "FRONTEND",
    "createFrom": "mcp",
    "priority": "Low",
    "testVisualization": "https://testsprite-videos.s3.us-east-1.amazonaws.com/f4786438-60d1-7030-46d1-b1ac9b0e3b51/1771209252293619//tmp/test_task/result.webm",
    "created": "2026-02-16T02:31:58.463Z",
    "modified": "2026-02-16T02:34:12.404Z"
  }
]
